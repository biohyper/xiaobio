
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>
    
  Macä¸»æœºVirtualBoxä¸­è°ƒæ•´Linuxç³»ç»Ÿç£ç›˜å¤§å° - xiaobio
  

  </title>
  <meta name="author" content="">
  <meta name="description" content="Life it self">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="asset/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="atom.xml" rel="alternate" title="xiaobio" type="application/atom+xml">
  <script src="asset/js/modernizr-2.0.js"></script>
  <script src="asset/js/jquery.min.js"></script>
  <style type="text/css">
  .cat-children-p{ padding: 6px 0px;}
  .hljs{background: none;}
  </style>
  <script type="text/javascript">
  var isAddSildbar = true;
  </script>
  <script src="asset/js/octopress.js" type="text/javascript"></script>
</head>
<script type="text/javascript">
//é“¾æ¥æ–°å¼€çª—å£
function addBlankTargetForLinks () {
  $('a[href^="http"]').each(function(){
      $(this).attr('target', '_blank');
  });
}
$(document).ready(function(event) {
  addBlankTargetForLinks();
});
</script>
<body   >
  <header role="banner"><hgroup>
  <h1><a href="index.html">xiaobio</a></h1>
  
    <h2>Life it self</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:biohyper.github.io/xiaobio" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">

  <li id=""><a target="_self" href="index.html">Home</a></li>

  <li id=""><a target="_self" href="archives.html">Archives</a></li>

  <li id=""><a target="_self" href="about.html">About</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content"> 
<div>
	<article class="hentry" role="article">
	<header>
			  	<h1 class="entry-title">Macä¸»æœºVirtualBoxä¸­è°ƒæ•´Linuxç³»ç»Ÿç£ç›˜å¤§å°</h1>
				<p class="meta"><time datetime="2019-04-10T10:34:24+08:00" pubdate data-updated="true">2019/04/10</time></p>
			 </header>
		  	<div class="entry-content">
			  	<p>ç ”ç©¶è™šæ‹Ÿæœºæ­å»ºHadoopç¯å¢ƒï¼Œè¿‡ç¨‹ä¸­masterä¸»æœºå‡ºç°ç£ç›˜å®¹é‡ä¸è¶³é—®é¢˜ï¼ŒæŸ¥é˜…èµ„æ–™åè§£å†³ï¼Œä½œæ­¤è®°å½•ã€‚</p>

<h2 id="toc_0">å‡†å¤‡å·¥ä½œ</h2>

<p>æŸ¥çœ‹è™šæ‹Ÿæœºä¸­è™šæ‹Ÿç£ç›˜çš„çš„åˆ†åŒºè¡¨ï¼Œç¡®è®¤å½“å‰å¤§å°ä»¥åŠè‡ªå·±è¦æ‰©åˆ°å¤šå¤§ã€‚<br/>
å› å®‰è£…è™šæ‹Ÿæœºå·²æ˜¯å¾ˆä¹…å‰ï¼Œåˆ°ç”¨æ—¶æ‰å‘ç°æ›¾ç»åªåˆ†é…äº†8Gç¡¬ç›˜å®¹é‡(æˆ‘å½“æ—¶æ˜¯æœ‰å¤šå°æ°”ğŸ˜­)ï¼Œä»¥ä¸‹æ˜¯å‘½ä»¤ï¼š</p>

<span id="more"></span><!-- more -->

<pre><code class="language-bash">[root@c0 opt]# fdisk -l

Disk /dev/sda: 8589 MB, 8589934592 bytes
255 heads, 63 sectors/track, 1044 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00017d52

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1          64      512000   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/sda2              64        1045     7875584   8e  Linux LVM

Disk /dev/mapper/vg_c0-lv_root: 7205 MB, 7205814272 bytes
255 heads, 63 sectors/track, 876 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000


Disk /dev/mapper/vg_c0-lv_swap: 855 MB, 855638016 bytes
255 heads, 63 sectors/track, 104 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000
</code></pre>

<h2 id="toc_1">VirtualBoxå¢åŠ ç£ç›˜ç†”ç‚¼</h2>

<p>åœ¨<code>Mac</code>å’Œ<code>Linux</code>ä¸­éœ€è¦ä½¿ç”¨<code>VirtualBox</code>çš„å‘½ä»¤è¡Œè°ƒæ•´è™šæ‹Ÿæœºçš„ç£ç›˜åˆ†é….</p>

<p><code>VirtualBox</code>çš„è¯´æ˜æ–‡æ¡£ä¸­æ˜ç¡®ç»™å‡ºäº†è°ƒæ•´è™šæ‹Ÿæœºç£ç›˜å¤§å°çš„æ–¹æ³•ï¼š</p>

<pre><code class="language-text">VBoxManage modifyhd         &lt;uuid&gt;|&lt;filename&gt;
                            [--type normal|writethrough|immutable|shareable|
                                    readonly|multiattach]
                            [--autoreset on|off]
                            [--compact]
                            [--resize &lt;megabytes&gt;|--resizebyte &lt;bytes&gt;]
</code></pre>

<h3 id="toc_2">æŸ¥çœ‹å¯ä»¥ä¿®æ”¹çš„ç£ç›˜</h3>

<p><code>VBoxManage list hdds</code>å‘½ä»¤æ˜¯ç”¨æ¥æŸ¥çœ‹æœ‰å“ªäº›è™šæ‹Ÿæœºçš„ç£ç›˜å¯ä¾›ä¿®æ”¹ï¼ŒåŒ…æ‹¬äº†ç£ç›˜è·¯å¾„å’Œ<code>UUID</code>ï¼Œå¦‚ä¸‹ï¼š</p>

<pre><code class="language-text">$ VBoxManage list hdds
UUID:           b81ac2f6-a6a9-434a-9aab-c92858be6d24
Parent UUID:    base
State:          created
Type:           normal (base)
Location:       /Users/yourname/VirtualBox VMs/c0/c0.vdi
Storage format: VDI
Capacity:       30720 MBytes
Encryption:     disabled

UUID:           c3700bb3-a51d-4bff-ac76-578dfcde63d1
Parent UUID:    base
State:          locked write
Type:           normal (base)
Location:       /Users/yourname/VirtualBox VMs/c1/c1.vdi
Storage format: VDI
Capacity:       20479 MBytes
Encryption:     disabled
</code></pre>

<h3 id="toc_3">ä¿®æ”¹ç³»ç»Ÿç£ç›˜å¤§å°</h3>

<p><code>modifyhd</code>æŒ‡ä»¤å°±æ˜¯ç”¨æ¥è°ƒæ•´ç£ç›˜å¤§å°çš„ã€‚å¯¹è±¡å¯ä»¥æ˜¯è™šæ‹Ÿæœºçš„<code>uuid</code>ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šè¦è°ƒæ•´å¤§å°çš„è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶å(å…¨è·¯å¾„)ã€‚</p>

<pre><code class="language-text">$ VBoxManage modifyhd &quot;/Users/yourname/VirtualBox VMs/c0/c0.vdi&quot; --resize 30720
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%
</code></pre>

<p>ä»¥ä¸Šå‘½ä»¤æ˜¯å°†<code>/Users/yourname/VirtualBox VMs/c0/c0.vdi</code>ç£ç›˜é‡æ–°è°ƒæ•´ä¸º30Gï¼Œ<code>resize</code>å‚æ•°é»˜è®¤å•ä½æ˜¯<code>MB</code>ã€‚</p>

<blockquote>
<p>ä¿®æ”¹æ˜¯è™šæ‹ŸæœºçŠ¶æ€å¿…é¡»æ˜¯<strong>å…³é—­</strong>çŠ¶æ€ã€‚å¦‚æœè¯¥è™šæ‹Ÿæœºæœ‰å¿«ç…§ï¼ˆsnapshotï¼‰ï¼Œåˆ™åªæœ‰åœ¨åˆ é™¤å¿«ç…§åæ‰èƒ½åœ¨è™šæ‹Ÿæœºå®¢æˆ·ç³»ç»Ÿé‡Œçœ‹åˆ°æ›´æ”¹åçš„ç£ç›˜å®¹é‡ã€‚</p>
</blockquote>

<h2 id="toc_4">CentOS çš„ LVM ç®¡ç†</h2>

<p>é‡æ–°å¯åŠ¨è¯¥è™šæ‹Ÿæœºï¼Œå†æ¬¡æŸ¥çœ‹ç£ç›˜æƒ…å†µï¼š</p>

<pre><code class="language-bash">[root@c0 ~]# fdisk -l

Disk /dev/sda: 32.2 GB, 32212254720 bytes
255 heads, 63 sectors/track, 3916 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00017d52

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1          64      512000   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/sda2              64        1045     7875584   8e  Linux LVM

Disk /dev/mapper/vg_c0-lv_root: 7205 MB, 7205814272 bytes
255 heads, 63 sectors/track, 876 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000


Disk /dev/mapper/vg_c0-lv_swap: 855 MB, 855638016 bytes
255 heads, 63 sectors/track, 104 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000
</code></pre>

<p>æ­¤æ—¶ï¼Œç£ç›˜å®¹é‡å·²ç»ä¸º30Gï¼Œç£ç›˜å ç”¨æƒ…å†µå´æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼š</p>

<pre><code class="language-bash">[root@c0 ~]# df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vg_c0-lv_root
                      6.5G  5.5G  663M  90% /
tmpfs                 499M     0  499M   0% /dev/shm
/dev/sda1             477M   65M  387M  15% /boot
</code></pre>

<p>è¯•è¯•çœ‹ç”¨ dd å‘½ä»¤åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º 1GB çš„å—æ–‡ä»¶ï¼š</p>

<pre><code class="language-bash"># dd if=/dev/zero of=1.0G.img bs=1M count=1000
dd: writing `1.0G.img&#39;: No space left on device
1+0 records in
0+0 records out
8192 bytes (8.2 kB) copied, 0.00300509 s, 2.7 MB/s
</code></pre>

<p>æç¤ºè¯´ç£ç›˜ç©ºé—´ä¸è¶³ï¼ˆNo space left on deviceï¼‰ã€‚è™½ç„¶æˆ‘ä»¬ç»™äº†è™šæ‹Ÿæœºè¶³å¤Ÿçš„ç©ºé—´ï¼Œä½†æ˜¯è™šæ‹Ÿæœºé‡Œçš„ç³»ç»Ÿï¼ˆè¿™é‡Œæ˜¯ CentOSï¼‰å¹¶æ²¡æœ‰å°†è¿™ä¸€éƒ¨åˆ†ç©ºé—´åˆ©ç”¨ä¸Šã€‚å¯ä»¥çœ‹åˆ°ï¼Œè™šæ‹Ÿæœºé‡Œçš„ç£ç›˜ç©ºé—´åªæœ‰ 1.7Gï¼ŒåŸå§‹åˆ†é…çš„ 3G æ²¡æœ‰ç”¨å®Œã€‚è¿™åŒæ—¶ä¹Ÿè¯´æ˜ï¼Œå³ä½¿åˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ä½¿ç”¨åŠ¨æ€åˆ†é…ç£ç›˜å¤§å°ï¼Œè™šæ‹Ÿæœºé‡Œçš„ç³»ç»Ÿä¹Ÿå¹¶ä¸ä¼šè‡ªåŠ¨ä¿®æ”¹è‡ªå·±çš„ç£ç›˜ã€‚å¦‚æœæ˜¯æ­£å¸¸ä½¿ç”¨ï¼Œå³ä½¿è™šæ‹Ÿæœºçš„è™šæ‹Ÿç£ç›˜è¶³å¤Ÿå¤§ï¼Œè¿˜æ˜¯å¯èƒ½ä¼šåœ¨è™šæ‹Ÿæœºä¸­é‡åˆ°ç£ç›˜ç©ºé—´ä¸è¶³çš„è­¦å‘Šã€‚</p>

<p>ä¸‹é¢è°ƒæ•´è™šæ‹Ÿæœºä¸­æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿï¼Œä½¿ä¹‹å°†æ‰€æœ‰ç©ºé—´åˆ©ç”¨ä¸Šã€‚</p>

<h3 id="toc_5">å°†ç©ºä½™ç£ç›˜åˆ›å»ºä¸º<code>sda3</code></h3>

<p>é‡æ–°å¯åŠ¨è™šæ‹Ÿæœºï¼Œç™»å…¥ CentOSï¼Œä½¿ç”¨ fdisk å°†è™šæ‹Ÿç£ç›˜çš„ç©ºé—²ç©ºé—´åˆ›å»ºä¸ºä¸€ä¸ªæ–°çš„åˆ†åŒºã€‚æ³¨æ„è¦ä½¿ç”¨ä»£è¡¨ Linux LVM çš„åˆ†åŒºå· 8e æ¥ä½œä¸º IDã€‚</p>

<pre><code class="language-bash">[root@c0 ~]# fdisk /dev/sda

WARNING: DOS-compatible mode is deprecated. It&#39;s strongly recommended to
         switch off the mode (command &#39;c&#39;) and change display units to
         sectors (command &#39;u&#39;).
Command (m for help): p

Disk /dev/sda: 32.2 GB, 32212254720 bytes
255 heads, 63 sectors/track, 3916 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00017d52

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1          64      512000   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/sda2              64        1045     7875584   8e  Linux LVM

Command (m for help): n
Command action
   e   extended
   p   primary partition (1-4)
p
Partition number (1-4): 3
First cylinder (1045-3916, default 1045): t
First cylinder (1045-3916, default 1045):
Using default value 1045
Last cylinder, +cylinders or +size{K,M,G} (1045-3916, default 3916):
Using default value 3916

Command (m for help): t
Partition number (1-4): 3

Hex code (type L to list codes): L

 0  Empty           24  NEC DOS         81  Minix / old Lin bf  Solaris
 1  FAT12           39  Plan 9          82  Linux swap / So c1  DRDOS/sec (FAT-
 2  XENIX root      3c  PartitionMagic  83  Linux           c4  DRDOS/sec (FAT-
 3  XENIX usr       40  Venix 80286     84  OS/2 hidden C:  c6  DRDOS/sec (FAT-
 4  FAT16 &lt;32M      41  PPC PReP Boot   85  Linux extended  c7  Syrinx
 5  Extended        42  SFS             86  NTFS volume set da  Non-FS data
 6  FAT16           4d  QNX4.x          87  NTFS volume set db  CP/M / CTOS / .
 7  HPFS/NTFS       4e  QNX4.x 2nd part 88  Linux plaintext de  Dell Utility
 8  AIX             4f  QNX4.x 3rd part 8e  Linux LVM       df  BootIt
 9  AIX bootable    50  OnTrack DM      93  Amoeba          e1  DOS access
 a  OS/2 Boot Manag 51  OnTrack DM6 Aux 94  Amoeba BBT      e3  DOS R/O
 b  W95 FAT32       52  CP/M            9f  BSD/OS          e4  SpeedStor
 c  W95 FAT32 (LBA) 53  OnTrack DM6 Aux a0  IBM Thinkpad hi eb  BeOS fs
 e  W95 FAT16 (LBA) 54  OnTrackDM6      a5  FreeBSD         ee  GPT
 f  W95 Ext&#39;d (LBA) 55  EZ-Drive        a6  OpenBSD         ef  EFI (FAT-12/16/
10  OPUS            56  Golden Bow      a7  NeXTSTEP        f0  Linux/PA-RISC b
11  Hidden FAT12    5c  Priam Edisk     a8  Darwin UFS      f1  SpeedStor
12  Compaq diagnost 61  SpeedStor       a9  NetBSD          f4  SpeedStor
14  Hidden FAT16 &lt;3 63  GNU HURD or Sys ab  Darwin boot     f2  DOS secondary
16  Hidden FAT16    64  Novell Netware  af  HFS / HFS+      fb  VMware VMFS
17  Hidden HPFS/NTF 65  Novell Netware  b7  BSDI fs         fc  VMware VMKCORE
18  AST SmartSleep  70  DiskSecure Mult b8  BSDI swap       fd  Linux raid auto
1b  Hidden W95 FAT3 75  PC/IX           bb  Boot Wizard hid fe  LANstep
1c  Hidden W95 FAT3 80  Old Minix       be  Solaris boot    ff  BBT
1e  Hidden W95 FAT1
Hex code (type L to list codes): 8e
Changed system type of partition 3 to 8e (Linux LVM)

Command (m for help): w
The partition table has been altered!

Calling ioctl() to re-read partition table.

WARNING: Re-reading the partition table failed with error 16: Device or resource busy.
The kernel still uses the old table. The new table will be used at
the next reboot or after you run partprobe(8) or kpartx(8)
Syncing disks.
</code></pre>

<p>ç®€åŒ–åæ“ä½œå¦‚ä¸‹ï¼š</p>

<pre><code class="language-text"># fdisk /dev/sda
  n {new partition}
  p {primary partition}
  3 {partition number}
# æ­¤å¤„å›è½¦
  t {change partition id}
  3 {partition number}
  8e {Linux LVM partition}
  w
</code></pre>

<p>å†æ¬¡æŸ¥çœ‹åˆ†åŒºè¡¨ï¼Œå‘ç°sda3å·²ç»æˆåŠŸåˆ›å»º</p>

<pre><code class="language-bash">[root@c0 ~]# fdisk -l

Disk /dev/sda: 32.2 GB, 32212254720 bytes
255 heads, 63 sectors/track, 3916 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00017d52

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1          64      512000   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/sda2              64        1045     7875584   8e  Linux LVM
/dev/sda3            1045        3916    23066662   8e  Linux LVM

Disk /dev/mapper/vg_c0-lv_root: 7205 MB, 7205814272 bytes
255 heads, 63 sectors/track, 876 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000


Disk /dev/mapper/vg_c0-lv_swap: 855 MB, 855638016 bytes
255 heads, 63 sectors/track, 104 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000
</code></pre>

<p>è°ƒæ•´åé‡å¯ä¸‹ï¼Œä¿è¯ç¨³å¦¥ï¼Œä¸ç¡®å®šä¸é‡å¯æ˜¯å¦ä¼šæ­£å¸¸ã€‚</p>

<h3 id="toc_6">è°ƒæ•´ LVM å¤§å°</h3>

<p>å…ˆçœ‹çœ‹å½“å‰ Volume Groupï¼š</p>

<pre><code class="language-bash">[root@c0 ~]# vgdisplay
  --- Volume group ---
  VG Name               vg_c0
  System ID
  Format                lvm2
  Metadata Areas        1
  Metadata Sequence No  3
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                2
  Open LV               2
  Max PV                0
  Cur PV                1
  Act PV                1
  VG Size               7.51 GiB
  PE Size               4.00 MiB
  Total PE              1922
  Alloc PE / Size       1922 / 7.51 GiB
  Free  PE / Size       0 / 0
  VG UUID               YdmWnX-Tle4-ovBs-FtPa-0r0R-OWel-h6NXW7
</code></pre>

<p>åç§°ä¸º<code>vg_c0</code>ï¼Œå¯è°ƒæ•´å¤§å°ï¼ˆresizableï¼‰ï¼Œå½“å‰å¤§å°ä¸º<code>7.51GB</code>ã€‚<br/>
æ´»åŠ¨çš„ LVM å·é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p>

<pre><code class="language-bash">[root@c0 ~]# lvscan
  ACTIVE            &#39;/dev/vg_c0/lv_root&#39; [6.71 GiB] inherit
  ACTIVE            &#39;/dev/vg_c0/lv_swap&#39; [816.00 MiB] inherit
</code></pre>

<p>å…ˆå°†åˆ†é…è¿‡æ¥çš„æ–°ç£ç›˜ç©ºé—´åˆ›å»ºä¸ºä¸€ä¸ªæ–°çš„ç‰©ç†å·ï¼Œ</p>

<pre><code class="language-text">[root@c0 ~]# pvcreate /dev/sda3
  Physical volume &quot;/dev/sda3&quot; successfully created
</code></pre>

<p>ç„¶åä½¿ç”¨æ–°çš„ç‰©ç†å·æ¥æ‰©å±•<code>LVM</code>çš„<code>Volume Group</code>æ­¤å¤„ä¸º<code>cg_c0</code></p>

<pre><code class="language-text">[root@c0 ~]# vgextend vg_c0 /dev/sda3
  Volume group &quot;vg_c0&quot; successfully extended

</code></pre>

<p>ç„¶åæ‰©å±• LVM çš„é€»è¾‘å· VolGroup-lv_rootï¼Œ</p>

<pre><code class="language-text">[root@c0 ~]# lvextend /dev/vg_c0/lv_root  /dev/sda3
  Size of logical volume vg_c0/lv_root changed from 6.71 GiB (1718 extents) to 28.71 GiB (7349 extents).
  Logical volume lv_root successfully resized.
</code></pre>

<p>æœ€åï¼Œè°ƒæ•´é€»è¾‘å·æ–‡ä»¶ç³»ç»Ÿçš„å¤§å°ï¼Œ</p>

<pre><code class="language-text">[root@c0 ~]# resize2fs /dev/vg_c0/lv_root
resize2fs 1.41.12 (17-May-2010)
Filesystem at /dev/vg_c0/lv_root is mounted on /; on-line resizing required
old desc_blocks = 1, new_desc_blocks = 2
Performing an on-line resize of /dev/vg_c0/lv_root to 7525376 (4k) blocks.
The filesystem on /dev/vg_c0/lv_root is now 7525376 blocks long.
</code></pre>

<p>å®Œæˆã€‚çœ‹çœ‹æ•ˆæœï¼š</p>

<pre><code class="language-text">[root@c0 ~]# lvscan
  ACTIVE            &#39;/dev/vg_c0/lv_root&#39; [28.71 GiB] inherit
  ACTIVE            &#39;/dev/vg_c0/lv_swap&#39; [816.00 MiB] inherit
</code></pre>

<pre><code class="language-text">  [root@c0 ~]# df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vg_c0-lv_root
                       29G  5.6G   22G  21% /
tmpfs                 499M     0  499M   0% /dev/shm
/dev/sda1             477M   65M  387M  15% /boot
</code></pre>

<blockquote>
<p>å¦å¤–ï¼Œå‡ ä¸ªæœ‰ç”¨çš„ LVM æŒ‡ä»¤ï¼ˆlvm2ï¼‰ï¼š<br/>
lvmdiskscan<br/>
vgdisplay<br/>
pvdisplay<br/>
lvdispay<br/>
vgcreate<br/>
pvcreate<br/>
lvscan<br/>
pvscan<br/>
vgscan</p>
</blockquote>

<p>éƒ¨åˆ†ç»“æœå¦‚ä¸‹ï¼š</p>

<pre><code class="language-text">[root@c0 opt]# lvmdiskscan
  /dev/ram0          [      16.00 MiB]
  /dev/root          [      28.71 GiB]
  /dev/ram1          [      16.00 MiB]
  /dev/sda1          [     500.00 MiB]
  /dev/vg_c0/lv_swap [     816.00 MiB]
  /dev/ram2          [      16.00 MiB]
  /dev/sda2          [       7.51 GiB] LVM physical volume
  /dev/ram3          [      16.00 MiB]
  /dev/sda3          [      22.00 GiB] LVM physical volume
  /dev/ram4          [      16.00 MiB]
  /dev/ram5          [      16.00 MiB]
  /dev/ram6          [      16.00 MiB]
  /dev/ram7          [      16.00 MiB]
  /dev/ram8          [      16.00 MiB]
  /dev/ram9          [      16.00 MiB]
  /dev/ram10         [      16.00 MiB]
  /dev/ram11         [      16.00 MiB]
  /dev/ram12         [      16.00 MiB]
  /dev/ram13         [      16.00 MiB]
  /dev/ram14         [      16.00 MiB]
  /dev/ram15         [      16.00 MiB]
  2 disks
  17 partitions
  0 LVM physical volume whole disks
  2 LVM physical volumes
</code></pre>

<pre><code class="language-[root@c0">  --- Physical volume ---
  PV Name               /dev/sda2
  VG Name               vg_c0
  PV Size               7.51 GiB / not usable 3.00 MiB
  Allocatable           yes (but full)
  PE Size               4.00 MiB
  Total PE              1922
  Free PE               0
  Allocated PE          1922
  PV UUID               p8JU8y-uZfb-Ytjl-zjSa-ueLz-SGhs-a8qqC8

  --- Physical volume ---
  PV Name               /dev/sda3
  VG Name               vg_c0
  PV Size               22.00 GiB / not usable 2.04 MiB
  Allocatable           yes (but full)
  PE Size               4.00 MiB
  Total PE              5631
  Free PE               0
  Allocated PE          5631
  PV UUID               84lY2p-POLa-5g2L-m8pZ-NVWO-UyLg-zWLIWS
</code></pre>

<p>è¯¥æ–‡ç« å‚è€ƒ<a href="https://cnzhx.net/blog/resizing-lvm-centos-virtualbox-guest/">æ°´æ™¯ä¸€é¡µ</a>ï¼Œæ„Ÿè°¢ä½œè€…!</p>

			</div>

		
	  
		<footer>
		 <p class="meta">

			<strong>Categories:</strong>&nbsp; 
			<span class="categories">
			
			    <a class='category' href='blog.html'>blog</a>&nbsp;
			 
			</span>
		    </p>
		    <p class="meta">
		      
		 </p>
	    
		<div class="sharing">
		  
          

          

		</div>

	    <p class="meta">
	    
	        <a class="basic-alignment left" href="15548636640854.html" 
	        title="Previous Post: Vagrantå•æœºè™šæ‹Ÿé›†ç¾¤">&laquo; Vagrantå•æœºè™šæ‹Ÿé›†ç¾¤</a>
	    
	    
	        <a class="basic-alignment right" href="15548636640924.html" 
	        title="Next Post: å•ç”¨æˆ·æ¨¡å¼ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶">å•ç”¨æˆ·æ¨¡å¼ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶ &raquo;</a>
	    
	    </p>
	  </footer>
	</article>
</div>
 <aside class="sidebar"> 

	<section>
	  <h1>Categories</h1>
	  <ul id="recent_posts">
	  
	      <li class="post">
	        <a href="blog.html"><strong>blog&nbsp;(15)</strong></a>
	        
	        
	        
	      </li>
	  
	      <li class="post">
	        <a href="Mac.html"><strong>Mac&nbsp;(1)</strong></a>
	        
	        
	        
	      </li>
	   
	  </ul>
	</section>
	<section>
	  <h1>Recent Posts</h1>
	  <ul id="recent_posts">
	  
	      
		      <li class="post">
		        <a href="15548636640483.html">Google Home</a>
		      </li>
	     
	  
	      
		      <li class="post">
		        <a href="15548636640521.html">Linux Oracleå¸¸è§„æ“ä½œåŠè„šæœ¬</a>
		      </li>
	     
	  
	      
		      <li class="post">
		        <a href="15548636640557.html">Linuxä¸‹Oracleå½»åº•åˆ é™¤å®ä¾‹</a>
		      </li>
	     
	  
	      
		      <li class="post">
		        <a href="15548636640597.html">Oracle 11g å†…å­˜(sgaå’Œpga)å‚æ•°è®¾ç½®</a>
		      </li>
	     
	  
	      
		      <li class="post">
		        <a href="15548636640631.html">Oracle 12C PDCåŸºç¡€</a>
		      </li>
	     
	  
	      
	  
	      
	  
	      
	  
	      
	  
	      
	  
	      
	  
	      
	  
	      
	  
	      
	  
	      
	  
	      
	   
	  </ul>
	</section>
	
</aside> </div></div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 -  -
  <span class="credit">Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; Theme by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>



  













<script src="asset/prism.js"></script>


<style type="text/css">
  
/* PrismJS 1.14.0
https://prismjs.com/download.html#themes=prism-solarizedlight&languages=markup+css+clike+javascript */
/*
 Solarized Color Schemes originally by Ethan Schoonover
 http://ethanschoonover.com/solarized

 Ported for PrismJS by Hector Matos
 Website: https://krakendev.io
 Twitter Handle: https://twitter.com/allonsykraken)
*/

/*
SOLARIZED HEX
--------- -------
base03    #002b36
base02    #073642
base01    #586e75
base00    #657b83
base0     #839496
base1     #93a1a1
base2     #eee8d5
base3     #fdf6e3
yellow    #b58900
orange    #cb4b16
red       #dc322f
magenta   #d33682
violet    #6c71c4
blue      #268bd2
cyan      #2aa198
green     #859900
*/

code[class*="language-"],
pre[class*="language-"] {
  color: #657b83; /* base00 */
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;

  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
  background: #073642; /* base02 */
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
  background: #073642; /* base02 */
}

/* Code blocks */
pre[class*="language-"] {
  padding: 1em;
  margin: .5em 0;
  overflow: auto;
  border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
  background-color: #fdf6e3; /* base3 */
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #93a1a1; /* base1 */
}

.token.punctuation {
  color: #586e75; /* base01 */
}

.namespace {
  opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  color: #268bd2; /* blue */
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.url,
.token.inserted {
  color: #2aa198; /* cyan */
}

.token.entity {
  color: #657b83; /* base00 */
  background: #eee8d5; /* base2 */
}

.token.atrule,
.token.attr-value,
.token.keyword {
  color: #859900; /* green */
}

.token.function,
.token.class-name {
  color: #b58900; /* yellow */
}

.token.regex,
.token.important,
.token.variable {
  color: #cb4b16; /* orange */
}

.token.important,
.token.bold {
  font-weight: bold;
}
.token.italic {
  font-style: italic;
}

.token.entity {
  cursor: help;
}


pre[class*="language-"].line-numbers {
    position: relative;
    padding-left: 3.8em;
    counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
    position: relative;
    white-space: inherit;
}

.line-numbers .line-numbers-rows {
    position: absolute;
    pointer-events: none;
    top: 0;
    font-size: 100%;
    left: -3.8em;
    width: 3em; /* works for line-numbers below 1000 lines */
    letter-spacing: -1px;
    border-right: 1px solid #999;

    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

}

    .line-numbers-rows > span {
        pointer-events: none;
        display: block;
        counter-increment: linenumber;
    }

        .line-numbers-rows > span:before {
            content: counter(linenumber);
            color: #999;
            display: block;
            padding-right: 0.8em;
            text-align: right;
        }

</style>
  
    


</body>
</html>